{"version":3,"sources":["../src/actions/postTweetAction.ts","../src/util/twitterScraper.ts","../src/util/primusUtil.ts","../src/providers/tokenPriceProvider.ts","../src/adapter/primusAdapter.ts","../src/index.ts"],"sourcesContent":["import {\n    Action,\n    elizaLogger,\n    IAgentRuntime,\n    Memory,\n    State,\n} from \"@elizaos/core\";\nimport { TwitterScraper } from \"../util/twitterScraper.ts\";\nimport {tokenPriceProvider} from \"../providers/tokenPriceProvider.ts\";\n\nexport const postTweetAction: Action = {\n    description: \"Post a tweet on Twitter and be verified by Primus\",\n    examples: [\n        [\n            {\n                user: \"{{user1}}\",\n                content: {\n                    text: \"Get the latest BTC price and post it on my twitter.\",\n                },\n            },\n            {\n                user: \"{{agentName}}\",\n                content: {\n                    text: \"The latest tweet has posted.\",\n                    action: \"POST_TWEET\",\n                },\n            },\n        ],\n        [\n            {\n                user: \"{{user1}}\",\n                content: {\n                    text: \"Help post a tweet which content is BTC price.\",\n                },\n            },\n            {\n                user: \"{{agentName}}\",\n                content: {\n                    text: \"Completed!\",\n                    action: \"POST_TWEET\",\n                },\n            },\n        ],\n        [\n            {\n                user: \"{{user1}}\",\n                content: {\n                    text: \"Post a tweet on twitter for me.\",\n                },\n            },\n            {\n                user: \"{{agentName}}\",\n                content: {\n                    text: \"I'll post the latest tweet to your Twitter account now!\",\n                    action: \"POST_TWEET\",\n                },\n            },\n        ],\n    ],\n    handler: async (\n        runtime: IAgentRuntime,\n        message: Memory,\n        state?: State\n    ): Promise<boolean> => {\n        const contentYouWantToPost = await tokenPriceProvider.get(runtime, message, state);\n        //check VERIFIABLE_INFERENCE_ENABLED\n        if (\n            !(\n                process.env.VERIFIABLE_INFERENCE_ENABLED === \"true\" &&\n                process.env.PRIMUS_APP_ID &&\n                process.env.PRIMUS_APP_SECRET\n            )\n        ) {\n            elizaLogger.error(\n                `Parameter 'VERIFIABLE_INFERENCE_ENABLED' not set, Eliza will run this action!`\n            );\n            return false;\n        }\n\n        try {\n            if (\n                process.env.TWITTER_DRY_RUN &&\n                process.env.TWITTER_DRY_RUN.toLowerCase() === \"true\"\n            ) {\n                elizaLogger.info(\n                    `Dry run: would have posted tweet: ${contentYouWantToPost}`\n                );\n                return true;\n            }\n\n            const scraperWithPrimus = new TwitterScraper();\n            await scraperWithPrimus.login();\n            if (!(await scraperWithPrimus.getScraper().isLoggedIn())) {\n                elizaLogger.error(\"Failed to login to Twitter\");\n                return false;\n            }\n            // post the tweet\n            elizaLogger.log(\"Attempting to send tweet:\", contentYouWantToPost);\n            const result = await scraperWithPrimus.sendTweet(contentYouWantToPost);\n\n            elizaLogger.log(\"Tweet response:\", result);\n\n            // Check for Twitter API errors\n            if (!result) {\n                elizaLogger.error(`Twitter API error ${result}`);\n                return false;\n            }\n            return true;\n        } catch (error) {\n            elizaLogger.error(\"Error in post action:\", error);\n            return false;\n        }\n    },\n    name: \"POST_TWEET\",\n    similes: [\"TWEET\", \"POST\", \"SEND_TWEET\"],\n    validate: async (\n        runtime: IAgentRuntime,\n        message: Memory,\n        state?: State\n    ) => {\n        const hasCredentials =\n            !!process.env.TWITTER_USERNAME && !!process.env.TWITTER_PASSWORD;\n        elizaLogger.log(`Has credentials: ${hasCredentials}`);\n\n        return hasCredentials;\n    },\n};\n","import { Scraper } from \"agent-twitter-client\";\nimport { elizaLogger } from \"@elizaos/core\";\nimport { verifyProof, generateProof } from \"./primusUtil.ts\";\n\nexport class TwitterScraper {\n    private scraper: Scraper;\n\n    constructor() {}\n\n    public getScraper(): Scraper {\n        return this.scraper;\n    }\n\n    public async getUserIdByScreenName(screenName: string) {\n        return await this.scraper.getUserIdByScreenName(screenName);\n    }\n\n    public async login() {\n        this.scraper = new Scraper();\n        const username = process.env.TWITTER_USERNAME;\n        const password = process.env.TWITTER_PASSWORD;\n        const email = process.env.TWITTER_EMAIL;\n        const twitter2faSecret = process.env.TWITTER_2FA_SECRET;\n        if (!username || !password) {\n            elizaLogger.error(\n                \"Twitter credentials not configured in environment\"\n            );\n            return;\n        }\n\n        // Login with credentials\n        await this.scraper.login(username, password, email, twitter2faSecret);\n        if (!(await this.scraper.isLoggedIn())) {\n            elizaLogger.error(\"Failed to login to Twitter\");\n            return false;\n        }\n    }\n\n    public async getUserLatestTweet(userId: string) {\n        const onboardingTaskUrl =\n            \"https://api.twitter.com/1.1/onboarding/task.json\";\n        const cookies = await (this.scraper as any).auth\n            .cookieJar()\n            .getCookies(onboardingTaskUrl);\n        const xCsrfToken = cookies.find((cookie) => cookie.key === \"ct0\");\n\n        //@ ts-expect-error - This is a private API.\n        const headers = {\n            authorization: `Bearer ${(this.scraper as any).auth.bearerToken}`,\n            cookie: await (this.scraper as any).auth\n                .cookieJar()\n                .getCookieString(onboardingTaskUrl),\n            \"content-type\": \"application/json\",\n            \"User-Agent\":\n                \"Mozilla/5.0 (Linux; Android 11; Nokia G20) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.88 Mobile Safari/537.36\",\n            \"x-guest-token\": (this.scraper as any).guestToken,\n            \"x-twitter-auth-type\": \"OAuth2Client\",\n            \"x-twitter-active-user\": \"yes\",\n            \"x-twitter-client-language\": \"en\",\n            \"x-csrf-token\": xCsrfToken?.value,\n        };\n\n        const variables = {\n            userId: userId,\n            count: 1,\n            includePromotedContent: true,\n            withQuickPromoteEligibilityTweetFields: true,\n            withVoice: true,\n            withV2Timeline: true,\n        };\n        const features = {\n            profile_label_improvements_pcf_label_in_post_enabled: false,\n            rweb_tipjar_consumption_enabled: true,\n            tweetypie_unmention_optimization_enabled: false,\n            responsive_web_graphql_exclude_directive_enabled: true,\n            verified_phone_label_enabled: false,\n            creator_subscriptions_tweet_preview_api_enabled: true,\n            responsive_web_graphql_timeline_navigation_enabled: true,\n            responsive_web_graphql_skip_user_profile_image_extensions_enabled:\n                false,\n            premium_content_api_read_enabled: false,\n            communities_web_enable_tweet_community_results_fetch: true,\n            c9s_tweet_anatomy_moderator_badge_enabled: true,\n            responsive_web_grok_analyze_button_fetch_trends_enabled: false,\n            responsive_web_grok_analyze_post_followups_enabled: true,\n            responsive_web_grok_share_attachment_enabled: true,\n            articles_preview_enabled: true,\n            responsive_web_edit_tweet_api_enabled: true,\n            graphql_is_translatable_rweb_tweet_is_translatable_enabled: true,\n            view_counts_everywhere_api_enabled: true,\n            longform_notetweets_consumption_enabled: true,\n            responsive_web_twitter_article_tweet_consumption_enabled: true,\n            tweet_awards_web_tipping_enabled: false,\n            creator_subscriptions_quote_tweet_preview_enabled: false,\n            freedom_of_speech_not_reach_fetch_enabled: true,\n            standardized_nudges_misinfo: true,\n            tweet_with_visibility_results_prefer_gql_limited_actions_policy_enabled:\n                true,\n            rweb_video_timestamps_enabled: true,\n            longform_notetweets_rich_text_read_enabled: true,\n            longform_notetweets_inline_media_enabled: true,\n            responsive_web_enhance_cards_enabled: false,\n        };\n        const fieldToggles = {\n            withArticlePlainText: false,\n        };\n        const variablesUrlEncoded = encodeURIComponent(\n            JSON.stringify(variables)\n        );\n        const featureUrlEncoded = encodeURIComponent(JSON.stringify(features));\n        const fieldTogglesUrlEncoded = encodeURIComponent(\n            JSON.stringify(fieldToggles)\n        );\n        const endpoint = `https://twitter.com/i/api/graphql/V7H0Ap3_Hh2FyS75OCDO3Q/UserTweets?variables=${variablesUrlEncoded}&features=${featureUrlEncoded}&fieldToggles=${fieldTogglesUrlEncoded}`;\n        const responseParsePath =\n            \"$.data.user.result.timeline_v2.timeline.instructions[1].entry.content.itemContent.tweet_results.result.legacy.full_text\";\n        const attestation = await generateProof(\n            endpoint,\n            \"GET\",\n            headers,\n            undefined,\n            responseParsePath\n        );\n        //log attestation\n        elizaLogger.info(\n            \"Tweet getting proof generated successfully:\",\n            attestation\n        );\n        const verifyResult = verifyProof(attestation);\n        if (!verifyResult) {\n            throw new Error(\n                \"Verify attestation failed,data from source is illegality\"\n            );\n        }\n        const responseData = JSON.parse(attestation.data);\n        const content = responseData.content;\n        //log\n        elizaLogger.info(`get tweet content success:${content}`);\n        return this.removeEmojis(content);\n    }\n\n    private isEmoji(char: string) {\n        const codePoint = char.codePointAt(0);\n        return (\n            (codePoint >= 0x1f600 && codePoint <= 0x1f64f) ||\n            (codePoint >= 0x1f300 && codePoint <= 0x1f5ff) ||\n            (codePoint >= 0x1f680 && codePoint <= 0x1f6ff) ||\n            (codePoint >= 0x2600 && codePoint <= 0x26ff) ||\n            (codePoint >= 0x2700 && codePoint <= 0x27bf) ||\n            (codePoint >= 0x1f900 && codePoint <= 0x1f9ff) ||\n            (codePoint >= 0x1f1e6 && codePoint <= 0x1f1ff)\n        );\n    }\n\n    private removeEmojis(input: string) {\n        return Array.from(input)\n            .filter((char) => !this.isEmoji(char))\n            .join(\"\");\n    }\n\n    public async sendTweet(content: string) {\n        const onboardingTaskUrl =\n            \"https://api.twitter.com/1.1/onboarding/task.json\";\n\n        const cookies = await (this.scraper as any).auth\n            .cookieJar()\n            .getCookies(onboardingTaskUrl);\n        const xCsrfToken = cookies.find((cookie) => cookie.key === \"ct0\");\n\n        //@ ts-expect-error - This is a private API.\n        const headers = {\n            authorization: `Bearer ${(this.scraper as any).auth.bearerToken}`,\n            cookie: await (this.scraper as any).auth\n                .cookieJar()\n                .getCookieString(onboardingTaskUrl),\n            \"content-type\": \"application/json\",\n            \"User-Agent\":\n                \"Mozilla/5.0 (Linux; Android 11; Nokia G20) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.88 Mobile Safari/537.36\",\n            \"x-guest-token\": (this.scraper as any).guestToken,\n            \"x-twitter-auth-type\": \"OAuth2Client\",\n            \"x-twitter-active-user\": \"yes\",\n            \"x-twitter-client-language\": \"en\",\n            \"x-csrf-token\": xCsrfToken?.value,\n        };\n\n        const variables = {\n            tweet_text: content,\n            dark_request: false,\n            media: {\n                media_entities: [],\n                possibly_sensitive: false,\n            },\n            semantic_annotation_ids: [],\n        };\n        const bodyStr = JSON.stringify({\n            variables,\n            features: {\n                interactive_text_enabled: true,\n                longform_notetweets_inline_media_enabled: false,\n                responsive_web_text_conversations_enabled: false,\n                tweet_with_visibility_results_prefer_gql_limited_actions_policy_enabled:\n                    false,\n                vibe_api_enabled: false,\n                rweb_lists_timeline_redesign_enabled: true,\n                responsive_web_graphql_exclude_directive_enabled: true,\n                verified_phone_label_enabled: false,\n                creator_subscriptions_tweet_preview_api_enabled: true,\n                responsive_web_graphql_timeline_navigation_enabled: true,\n                responsive_web_graphql_skip_user_profile_image_extensions_enabled:\n                    false,\n                tweetypie_unmention_optimization_enabled: true,\n                responsive_web_edit_tweet_api_enabled: true,\n                graphql_is_translatable_rweb_tweet_is_translatable_enabled:\n                    true,\n                view_counts_everywhere_api_enabled: true,\n                longform_notetweets_consumption_enabled: true,\n                tweet_awards_web_tipping_enabled: false,\n                freedom_of_speech_not_reach_fetch_enabled: true,\n                standardized_nudges_misinfo: true,\n                longform_notetweets_rich_text_read_enabled: true,\n                responsive_web_enhance_cards_enabled: false,\n                subscriptions_verification_info_enabled: true,\n                subscriptions_verification_info_reason_enabled: true,\n                subscriptions_verification_info_verified_since_enabled: true,\n                super_follow_badge_privacy_enabled: false,\n                super_follow_exclusive_tweet_notifications_enabled: false,\n                super_follow_tweet_api_enabled: false,\n                super_follow_user_api_enabled: false,\n                android_graphql_skip_api_media_color_palette: false,\n                creator_subscriptions_subscription_count_enabled: false,\n                blue_business_profile_image_shape_enabled: false,\n                unified_cards_ad_metadata_container_dynamic_card_content_query_enabled:\n                    false,\n                rweb_video_timestamps_enabled: false,\n                c9s_tweet_anatomy_moderator_badge_enabled: false,\n                responsive_web_twitter_article_tweet_consumption_enabled: false,\n            },\n            fieldToggles: {},\n        });\n        const endpoint = 'https://twitter.com/i/api/graphql/a1p9RWpkYKBjWv_I3WzS-A/CreateTweet';\n        const method = 'POST';\n        const attestation = await generateProof(endpoint,method,headers,bodyStr,\"$.data.create_tweet.tweet_results.result.rest_id\");\n\n        elizaLogger.info(\n            \"Tweet posting proof generated successfully:\",\n            attestation\n        );\n\n        const verifyResult = verifyProof(attestation);\n        if (!verifyResult) {\n            throw new Error(\n                \"Verify attestation failed, data from source is illegality\"\n            );\n        }\n        const responseData = JSON.parse(attestation.data);\n        elizaLogger.info(`send tweet success,tweetId:${responseData.content}`);\n\n        return responseData.content;\n    }\n}\n","import { PrimusCoreTLS,Attestation } from \"@primuslabs/zktls-core-sdk\";\n\nexport const generateProof = async (\n    endpoint: string,\n    method: string,\n    headers: Record<string, any>,\n    body: string,\n    responseParsePath: string\n): Promise<Attestation> => {\n    const zkTLS = new PrimusCoreTLS();\n    await zkTLS.init(process.env.PRIMUS_APP_ID, process.env.PRIMUS_APP_SECRET);\n    const requestParam = body\n        ? {\n              url: endpoint,\n              method: method,\n              header: headers,\n              body: body,\n          }\n        : {\n              url: endpoint,\n              method: method,\n              header: headers,\n          };\n    // console.log('requestParam:',requestParam)\n    const attestationParams = zkTLS.generateRequestParams(requestParam, [\n        {\n            keyName: \"content\",\n            parsePath: responseParsePath,\n            parseType: \"string\",\n        },\n    ]);\n    attestationParams.setAttMode({\n        algorithmType: \"proxytls\",\n    });\n    return await zkTLS.startAttestation(attestationParams);\n};\n\nexport const verifyProof = async (attestation: Attestation): Promise<boolean> => {\n    const zkTLS = new PrimusCoreTLS();\n    await zkTLS.init(process.env.PRIMUS_APP_ID, process.env.PRIMUS_APP_SECRET);\n    return zkTLS.verifyAttestation(attestation);\n};\n","import {elizaLogger, IAgentRuntime, Memory, Provider, State} from \"@elizaos/core\";\nimport {generateProof, verifyProof} from \"../util/primusUtil.ts\";\n\nconst tokenPriceProvider: Provider = {\n    get: async (runtime: IAgentRuntime, message: Memory, _state?: State) => {\n        //get btc price\n        const url = `${process.env.BINANCE_API_URL||'https://api.binance.com'}/api/v3/ticker/price?symbol=${process.env.BINANCE_SYMBOL || 'BTCUSDT'}`;\n        const method = 'GET';\n        const headers = {\n            'Accept\t': '*/*',\n        };\n        const attestation = await generateProof(url, method, headers, \"\", \"$.price\");\n        const valid = await verifyProof(attestation);\n        if(!valid){\n            throw new Error(\"Invalid price attestation\");\n        }\n        elizaLogger.info('price attestation:',attestation);\n        try{\n            const responseData = JSON.parse((attestation as any).data);\n            const price = responseData.content;\n            return  `\n            Get BTC price from Binance:\n            BTC: ${price} USDT\n            Time: ${new Date().toUTCString()}\n            POST by eliza #eliza\n            Attested by Primus #primus #zktls\n            `\n        }catch (error){\n            elizaLogger.error('Failed to parse price data:', error);\n            throw new Error('Failed to parse price data');\n        }\n    },\n};\n\nexport { tokenPriceProvider };\n","import { PrimusCoreTLS } from \"@primuslabs/zktls-core-sdk\";\nimport {\n    IVerifiableInferenceAdapter,\n    VerifiableInferenceOptions,\n    VerifiableInferenceResult,\n    VerifiableInferenceProvider,\n    ModelProviderName,\n    models,\n    elizaLogger,\n} from \"@elizaos/core\";\nimport {generateProof, verifyProof} from \"../util/primusUtil.ts\";\n\ninterface PrimusOptions {\n    appId: string;\n    appSecret: string;\n    attMode: string;\n    modelProvider?: ModelProviderName;\n    token?: string;\n}\n\nexport class PrimusAdapter implements IVerifiableInferenceAdapter {\n    public options: PrimusOptions;\n\n    constructor(options: PrimusOptions) {\n        this.options = options;\n    }\n\n    async generateText(\n        context: string,\n        modelClass: string,\n        options?: VerifiableInferenceOptions\n    ): Promise<VerifiableInferenceResult> {\n        const provider = this.options.modelProvider || ModelProviderName.OPENAI;\n        const baseEndpoint = options?.endpoint || models[provider].endpoint;\n        const model = models[provider].model[modelClass];\n        const apiKey = this.options.token;\n\n        if (!apiKey) {\n            throw new Error(\n                `API key (token) is required for provider: ${provider}`\n            );\n        }\n\n        // Get provider-specific endpoint, auth header and response json path\n        let endpoint;\n        let authHeader;\n        let responseParsePath;\n\n        switch (provider) {\n            case ModelProviderName.OPENAI:\n                endpoint = `${baseEndpoint}/chat/completions`;\n                authHeader = `Bearer ${apiKey}`;\n                responseParsePath = \"$.choices[0].message.content\";\n                break;\n            default:\n                throw new Error(`Unsupported model provider: ${provider}`);\n        }\n\n\n        const headers = {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\": authHeader,\n        };\n\n        try {\n            let body = {\n                model: model.name,\n                messages: [{ role: \"user\", content: context }],\n                temperature:\n                    options?.providerOptions?.temperature ||\n                    models[provider].model[modelClass].temperature,\n            };\n            const attestation = await generateProof(endpoint,\"POST\",headers,JSON.stringify(body),responseParsePath);\n            elizaLogger.log(`model attestation:`, attestation);\n\n            const responseData = JSON.parse(attestation.data);\n            let text = JSON.parse(responseData.content);\n            return {\n                text,\n                proof: attestation,\n                provider: VerifiableInferenceProvider.PRIMUS,\n                timestamp: Date.now(),\n            };\n        } catch (error) {\n            console.error(\"Error in Primus generateText:\", error);\n            throw error;\n        }\n    }\n\n    async verifyProof(result: VerifiableInferenceResult): Promise<boolean> {\n        const isValid = verifyProof(result.proof)\n        elizaLogger.log(\"Proof is valid:\", isValid);\n        return isValid;\n    }\n}\n\nexport default PrimusAdapter;\n","import { Plugin } from \"@elizaos/core\";\nimport { postTweetAction } from \"./actions/postTweetAction.ts\";\nimport {PrimusAdapter} from \"./adapter/primusAdapter.ts\";\n\nexport const twitterPlugin: Plugin = {\n    name: \"twitter\",\n    description: \"Twitter integration plugin for posting tweets with proof generated by primus\",\n    actions: [postTweetAction],\n    evaluators: [],\n    providers: [],\n};\n\nexport default twitterPlugin;\nexport {PrimusAdapter};\n"],"mappings":";AAAA;AAAA,EAEI,eAAAA;AAAA,OAIG;;;ACNP,SAAS,eAAe;AACxB,SAAS,mBAAmB;;;ACD5B,SAAS,qBAAiC;AAEnC,IAAM,gBAAgB,OACzB,UACA,QACA,SACA,MACA,sBACuB;AACvB,QAAM,QAAQ,IAAI,cAAc;AAChC,QAAM,MAAM,KAAK,QAAQ,IAAI,eAAe,QAAQ,IAAI,iBAAiB;AACzE,QAAM,eAAe,OACf;AAAA,IACI,KAAK;AAAA,IACL;AAAA,IACA,QAAQ;AAAA,IACR;AAAA,EACJ,IACA;AAAA,IACI,KAAK;AAAA,IACL;AAAA,IACA,QAAQ;AAAA,EACZ;AAEN,QAAM,oBAAoB,MAAM,sBAAsB,cAAc;AAAA,IAChE;AAAA,MACI,SAAS;AAAA,MACT,WAAW;AAAA,MACX,WAAW;AAAA,IACf;AAAA,EACJ,CAAC;AACD,oBAAkB,WAAW;AAAA,IACzB,eAAe;AAAA,EACnB,CAAC;AACD,SAAO,MAAM,MAAM,iBAAiB,iBAAiB;AACzD;AAEO,IAAM,cAAc,OAAO,gBAA+C;AAC7E,QAAM,QAAQ,IAAI,cAAc;AAChC,QAAM,MAAM,KAAK,QAAQ,IAAI,eAAe,QAAQ,IAAI,iBAAiB;AACzE,SAAO,MAAM,kBAAkB,WAAW;AAC9C;;;ADrCO,IAAM,iBAAN,MAAqB;AAAA,EAChB;AAAA,EAER,cAAc;AAAA,EAAC;AAAA,EAER,aAAsB;AACzB,WAAO,KAAK;AAAA,EAChB;AAAA,EAEA,MAAa,sBAAsB,YAAoB;AACnD,WAAO,MAAM,KAAK,QAAQ,sBAAsB,UAAU;AAAA,EAC9D;AAAA,EAEA,MAAa,QAAQ;AACjB,SAAK,UAAU,IAAI,QAAQ;AAC3B,UAAM,WAAW,QAAQ,IAAI;AAC7B,UAAM,WAAW,QAAQ,IAAI;AAC7B,UAAM,QAAQ,QAAQ,IAAI;AAC1B,UAAM,mBAAmB,QAAQ,IAAI;AACrC,QAAI,CAAC,YAAY,CAAC,UAAU;AACxB,kBAAY;AAAA,QACR;AAAA,MACJ;AACA;AAAA,IACJ;AAGA,UAAM,KAAK,QAAQ,MAAM,UAAU,UAAU,OAAO,gBAAgB;AACpE,QAAI,CAAE,MAAM,KAAK,QAAQ,WAAW,GAAI;AACpC,kBAAY,MAAM,4BAA4B;AAC9C,aAAO;AAAA,IACX;AAAA,EACJ;AAAA,EAEA,MAAa,mBAAmB,QAAgB;AAC5C,UAAM,oBACF;AACJ,UAAM,UAAU,MAAO,KAAK,QAAgB,KACvC,UAAU,EACV,WAAW,iBAAiB;AACjC,UAAM,aAAa,QAAQ,KAAK,CAAC,WAAW,OAAO,QAAQ,KAAK;AAGhE,UAAM,UAAU;AAAA,MACZ,eAAe,UAAW,KAAK,QAAgB,KAAK,WAAW;AAAA,MAC/D,QAAQ,MAAO,KAAK,QAAgB,KAC/B,UAAU,EACV,gBAAgB,iBAAiB;AAAA,MACtC,gBAAgB;AAAA,MAChB,cACI;AAAA,MACJ,iBAAkB,KAAK,QAAgB;AAAA,MACvC,uBAAuB;AAAA,MACvB,yBAAyB;AAAA,MACzB,6BAA6B;AAAA,MAC7B,gBAAgB,YAAY;AAAA,IAChC;AAEA,UAAM,YAAY;AAAA,MACd;AAAA,MACA,OAAO;AAAA,MACP,wBAAwB;AAAA,MACxB,wCAAwC;AAAA,MACxC,WAAW;AAAA,MACX,gBAAgB;AAAA,IACpB;AACA,UAAM,WAAW;AAAA,MACb,sDAAsD;AAAA,MACtD,iCAAiC;AAAA,MACjC,0CAA0C;AAAA,MAC1C,kDAAkD;AAAA,MAClD,8BAA8B;AAAA,MAC9B,iDAAiD;AAAA,MACjD,oDAAoD;AAAA,MACpD,mEACI;AAAA,MACJ,kCAAkC;AAAA,MAClC,sDAAsD;AAAA,MACtD,2CAA2C;AAAA,MAC3C,yDAAyD;AAAA,MACzD,oDAAoD;AAAA,MACpD,8CAA8C;AAAA,MAC9C,0BAA0B;AAAA,MAC1B,uCAAuC;AAAA,MACvC,4DAA4D;AAAA,MAC5D,oCAAoC;AAAA,MACpC,yCAAyC;AAAA,MACzC,0DAA0D;AAAA,MAC1D,kCAAkC;AAAA,MAClC,mDAAmD;AAAA,MACnD,2CAA2C;AAAA,MAC3C,6BAA6B;AAAA,MAC7B,yEACI;AAAA,MACJ,+BAA+B;AAAA,MAC/B,4CAA4C;AAAA,MAC5C,0CAA0C;AAAA,MAC1C,sCAAsC;AAAA,IAC1C;AACA,UAAM,eAAe;AAAA,MACjB,sBAAsB;AAAA,IAC1B;AACA,UAAM,sBAAsB;AAAA,MACxB,KAAK,UAAU,SAAS;AAAA,IAC5B;AACA,UAAM,oBAAoB,mBAAmB,KAAK,UAAU,QAAQ,CAAC;AACrE,UAAM,yBAAyB;AAAA,MAC3B,KAAK,UAAU,YAAY;AAAA,IAC/B;AACA,UAAM,WAAW,iFAAiF,mBAAmB,aAAa,iBAAiB,iBAAiB,sBAAsB;AAC1L,UAAM,oBACF;AACJ,UAAM,cAAc,MAAM;AAAA,MACtB;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACJ;AAEA,gBAAY;AAAA,MACR;AAAA,MACA;AAAA,IACJ;AACA,UAAM,eAAe,YAAY,WAAW;AAC5C,QAAI,CAAC,cAAc;AACf,YAAM,IAAI;AAAA,QACN;AAAA,MACJ;AAAA,IACJ;AACA,UAAM,eAAe,KAAK,MAAM,YAAY,IAAI;AAChD,UAAM,UAAU,aAAa;AAE7B,gBAAY,KAAK,6BAA6B,OAAO,EAAE;AACvD,WAAO,KAAK,aAAa,OAAO;AAAA,EACpC;AAAA,EAEQ,QAAQ,MAAc;AAC1B,UAAM,YAAY,KAAK,YAAY,CAAC;AACpC,WACK,aAAa,UAAW,aAAa,UACrC,aAAa,UAAW,aAAa,UACrC,aAAa,UAAW,aAAa,UACrC,aAAa,QAAU,aAAa,QACpC,aAAa,QAAU,aAAa,SACpC,aAAa,UAAW,aAAa,UACrC,aAAa,UAAW,aAAa;AAAA,EAE9C;AAAA,EAEQ,aAAa,OAAe;AAChC,WAAO,MAAM,KAAK,KAAK,EAClB,OAAO,CAAC,SAAS,CAAC,KAAK,QAAQ,IAAI,CAAC,EACpC,KAAK,EAAE;AAAA,EAChB;AAAA,EAEA,MAAa,UAAU,SAAiB;AACpC,UAAM,oBACF;AAEJ,UAAM,UAAU,MAAO,KAAK,QAAgB,KACvC,UAAU,EACV,WAAW,iBAAiB;AACjC,UAAM,aAAa,QAAQ,KAAK,CAAC,WAAW,OAAO,QAAQ,KAAK;AAGhE,UAAM,UAAU;AAAA,MACZ,eAAe,UAAW,KAAK,QAAgB,KAAK,WAAW;AAAA,MAC/D,QAAQ,MAAO,KAAK,QAAgB,KAC/B,UAAU,EACV,gBAAgB,iBAAiB;AAAA,MACtC,gBAAgB;AAAA,MAChB,cACI;AAAA,MACJ,iBAAkB,KAAK,QAAgB;AAAA,MACvC,uBAAuB;AAAA,MACvB,yBAAyB;AAAA,MACzB,6BAA6B;AAAA,MAC7B,gBAAgB,YAAY;AAAA,IAChC;AAEA,UAAM,YAAY;AAAA,MACd,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,OAAO;AAAA,QACH,gBAAgB,CAAC;AAAA,QACjB,oBAAoB;AAAA,MACxB;AAAA,MACA,yBAAyB,CAAC;AAAA,IAC9B;AACA,UAAM,UAAU,KAAK,UAAU;AAAA,MAC3B;AAAA,MACA,UAAU;AAAA,QACN,0BAA0B;AAAA,QAC1B,0CAA0C;AAAA,QAC1C,2CAA2C;AAAA,QAC3C,yEACI;AAAA,QACJ,kBAAkB;AAAA,QAClB,sCAAsC;AAAA,QACtC,kDAAkD;AAAA,QAClD,8BAA8B;AAAA,QAC9B,iDAAiD;AAAA,QACjD,oDAAoD;AAAA,QACpD,mEACI;AAAA,QACJ,0CAA0C;AAAA,QAC1C,uCAAuC;AAAA,QACvC,4DACI;AAAA,QACJ,oCAAoC;AAAA,QACpC,yCAAyC;AAAA,QACzC,kCAAkC;AAAA,QAClC,2CAA2C;AAAA,QAC3C,6BAA6B;AAAA,QAC7B,4CAA4C;AAAA,QAC5C,sCAAsC;AAAA,QACtC,yCAAyC;AAAA,QACzC,gDAAgD;AAAA,QAChD,wDAAwD;AAAA,QACxD,oCAAoC;AAAA,QACpC,oDAAoD;AAAA,QACpD,gCAAgC;AAAA,QAChC,+BAA+B;AAAA,QAC/B,8CAA8C;AAAA,QAC9C,kDAAkD;AAAA,QAClD,2CAA2C;AAAA,QAC3C,wEACI;AAAA,QACJ,+BAA+B;AAAA,QAC/B,2CAA2C;AAAA,QAC3C,0DAA0D;AAAA,MAC9D;AAAA,MACA,cAAc,CAAC;AAAA,IACnB,CAAC;AACD,UAAM,WAAW;AACjB,UAAM,SAAS;AACf,UAAM,cAAc,MAAM,cAAc,UAAS,QAAO,SAAQ,SAAQ,kDAAkD;AAE1H,gBAAY;AAAA,MACR;AAAA,MACA;AAAA,IACJ;AAEA,UAAM,eAAe,YAAY,WAAW;AAC5C,QAAI,CAAC,cAAc;AACf,YAAM,IAAI;AAAA,QACN;AAAA,MACJ;AAAA,IACJ;AACA,UAAM,eAAe,KAAK,MAAM,YAAY,IAAI;AAChD,gBAAY,KAAK,8BAA8B,aAAa,OAAO,EAAE;AAErE,WAAO,aAAa;AAAA,EACxB;AACJ;;;AEnQA,SAAQ,eAAAC,oBAA0D;AAGlE,IAAM,qBAA+B;AAAA,EACjC,KAAK,OAAO,SAAwB,SAAiB,WAAmB;AAEpE,UAAM,MAAM,GAAG,QAAQ,IAAI,mBAAiB,yBAAyB,+BAA+B,QAAQ,IAAI,kBAAkB,SAAS;AAC3I,UAAM,SAAS;AACf,UAAM,UAAU;AAAA,MACZ,WAAW;AAAA,IACf;AACA,UAAM,cAAc,MAAM,cAAc,KAAK,QAAQ,SAAS,IAAI,SAAS;AAC3E,UAAM,QAAQ,MAAM,YAAY,WAAW;AAC3C,QAAG,CAAC,OAAM;AACN,YAAM,IAAI,MAAM,2BAA2B;AAAA,IAC/C;AACA,IAAAC,aAAY,KAAK,sBAAqB,WAAW;AACjD,QAAG;AACC,YAAM,eAAe,KAAK,MAAO,YAAoB,IAAI;AACzD,YAAM,QAAQ,aAAa;AAC3B,aAAQ;AAAA;AAAA,mBAED,KAAK;AAAA,qBACJ,oBAAI,KAAK,GAAE,YAAY,CAAC;AAAA;AAAA;AAAA;AAAA,IAIpC,SAAQ,OAAM;AACV,MAAAA,aAAY,MAAM,+BAA+B,KAAK;AACtD,YAAM,IAAI,MAAM,4BAA4B;AAAA,IAChD;AAAA,EACJ;AACJ;;;AHtBO,IAAM,kBAA0B;AAAA,EACnC,aAAa;AAAA,EACb,UAAU;AAAA,IACN;AAAA,MACI;AAAA,QACI,MAAM;AAAA,QACN,SAAS;AAAA,UACL,MAAM;AAAA,QACV;AAAA,MACJ;AAAA,MACA;AAAA,QACI,MAAM;AAAA,QACN,SAAS;AAAA,UACL,MAAM;AAAA,UACN,QAAQ;AAAA,QACZ;AAAA,MACJ;AAAA,IACJ;AAAA,IACA;AAAA,MACI;AAAA,QACI,MAAM;AAAA,QACN,SAAS;AAAA,UACL,MAAM;AAAA,QACV;AAAA,MACJ;AAAA,MACA;AAAA,QACI,MAAM;AAAA,QACN,SAAS;AAAA,UACL,MAAM;AAAA,UACN,QAAQ;AAAA,QACZ;AAAA,MACJ;AAAA,IACJ;AAAA,IACA;AAAA,MACI;AAAA,QACI,MAAM;AAAA,QACN,SAAS;AAAA,UACL,MAAM;AAAA,QACV;AAAA,MACJ;AAAA,MACA;AAAA,QACI,MAAM;AAAA,QACN,SAAS;AAAA,UACL,MAAM;AAAA,UACN,QAAQ;AAAA,QACZ;AAAA,MACJ;AAAA,IACJ;AAAA,EACJ;AAAA,EACA,SAAS,OACL,SACA,SACA,UACmB;AACnB,UAAM,uBAAuB,MAAM,mBAAmB,IAAI,SAAS,SAAS,KAAK;AAEjF,QACI,EACI,QAAQ,IAAI,iCAAiC,UAC7C,QAAQ,IAAI,iBACZ,QAAQ,IAAI,oBAElB;AACE,MAAAC,aAAY;AAAA,QACR;AAAA,MACJ;AACA,aAAO;AAAA,IACX;AAEA,QAAI;AACA,UACI,QAAQ,IAAI,mBACZ,QAAQ,IAAI,gBAAgB,YAAY,MAAM,QAChD;AACE,QAAAA,aAAY;AAAA,UACR,qCAAqC,oBAAoB;AAAA,QAC7D;AACA,eAAO;AAAA,MACX;AAEA,YAAM,oBAAoB,IAAI,eAAe;AAC7C,YAAM,kBAAkB,MAAM;AAC9B,UAAI,CAAE,MAAM,kBAAkB,WAAW,EAAE,WAAW,GAAI;AACtD,QAAAA,aAAY,MAAM,4BAA4B;AAC9C,eAAO;AAAA,MACX;AAEA,MAAAA,aAAY,IAAI,6BAA6B,oBAAoB;AACjE,YAAM,SAAS,MAAM,kBAAkB,UAAU,oBAAoB;AAErE,MAAAA,aAAY,IAAI,mBAAmB,MAAM;AAGzC,UAAI,CAAC,QAAQ;AACT,QAAAA,aAAY,MAAM,qBAAqB,MAAM,EAAE;AAC/C,eAAO;AAAA,MACX;AACA,aAAO;AAAA,IACX,SAAS,OAAO;AACZ,MAAAA,aAAY,MAAM,yBAAyB,KAAK;AAChD,aAAO;AAAA,IACX;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,EACN,SAAS,CAAC,SAAS,QAAQ,YAAY;AAAA,EACvC,UAAU,OACN,SACA,SACA,UACC;AACD,UAAM,iBACF,CAAC,CAAC,QAAQ,IAAI,oBAAoB,CAAC,CAAC,QAAQ,IAAI;AACpD,IAAAA,aAAY,IAAI,oBAAoB,cAAc,EAAE;AAEpD,WAAO;AAAA,EACX;AACJ;;;AI7HA;AAAA,EAII;AAAA,EACA;AAAA,EACA;AAAA,EACA,eAAAC;AAAA,OACG;AAWA,IAAM,gBAAN,MAA2D;AAAA,EACvD;AAAA,EAEP,YAAY,SAAwB;AAChC,SAAK,UAAU;AAAA,EACnB;AAAA,EAEA,MAAM,aACF,SACA,YACA,SACkC;AAClC,UAAM,WAAW,KAAK,QAAQ,iBAAiB,kBAAkB;AACjE,UAAM,eAAe,SAAS,YAAY,OAAO,QAAQ,EAAE;AAC3D,UAAM,QAAQ,OAAO,QAAQ,EAAE,MAAM,UAAU;AAC/C,UAAM,SAAS,KAAK,QAAQ;AAE5B,QAAI,CAAC,QAAQ;AACT,YAAM,IAAI;AAAA,QACN,6CAA6C,QAAQ;AAAA,MACzD;AAAA,IACJ;AAGA,QAAI;AACJ,QAAI;AACJ,QAAI;AAEJ,YAAQ,UAAU;AAAA,MACd,KAAK,kBAAkB;AACnB,mBAAW,GAAG,YAAY;AAC1B,qBAAa,UAAU,MAAM;AAC7B,4BAAoB;AACpB;AAAA,MACJ;AACI,cAAM,IAAI,MAAM,+BAA+B,QAAQ,EAAE;AAAA,IACjE;AAGA,UAAM,UAAU;AAAA,MACZ,gBAAgB;AAAA,MAChB,iBAAiB;AAAA,IACrB;AAEA,QAAI;AACA,UAAI,OAAO;AAAA,QACP,OAAO,MAAM;AAAA,QACb,UAAU,CAAC,EAAE,MAAM,QAAQ,SAAS,QAAQ,CAAC;AAAA,QAC7C,aACI,SAAS,iBAAiB,eAC1B,OAAO,QAAQ,EAAE,MAAM,UAAU,EAAE;AAAA,MAC3C;AACA,YAAM,cAAc,MAAM,cAAc,UAAS,QAAO,SAAQ,KAAK,UAAU,IAAI,GAAE,iBAAiB;AACtG,MAAAC,aAAY,IAAI,sBAAsB,WAAW;AAEjD,YAAM,eAAe,KAAK,MAAM,YAAY,IAAI;AAChD,UAAI,OAAO,KAAK,MAAM,aAAa,OAAO;AAC1C,aAAO;AAAA,QACH;AAAA,QACA,OAAO;AAAA,QACP,UAAU,4BAA4B;AAAA,QACtC,WAAW,KAAK,IAAI;AAAA,MACxB;AAAA,IACJ,SAAS,OAAO;AACZ,cAAQ,MAAM,iCAAiC,KAAK;AACpD,YAAM;AAAA,IACV;AAAA,EACJ;AAAA,EAEA,MAAM,YAAY,QAAqD;AACnE,UAAM,UAAU,YAAY,OAAO,KAAK;AACxC,IAAAA,aAAY,IAAI,mBAAmB,OAAO;AAC1C,WAAO;AAAA,EACX;AACJ;;;AC1FO,IAAM,gBAAwB;AAAA,EACjC,MAAM;AAAA,EACN,aAAa;AAAA,EACb,SAAS,CAAC,eAAe;AAAA,EACzB,YAAY,CAAC;AAAA,EACb,WAAW,CAAC;AAChB;AAEA,IAAO,gBAAQ;","names":["elizaLogger","elizaLogger","elizaLogger","elizaLogger","elizaLogger","elizaLogger"]}